import { icons } from './icons.js';

// Card Database
export const CARDS = [
  { 
    id: 'heart', 
    sym: icons.heart, 
    name: 'Heart', 
    description: 'Restore 3 HP. A gentle healing touch that mends wounds.',
    cost: 1, 
    type: 'skill', 
    tags: ['heal'],
    effects: { damage: 0, pierce: false, heal: 3, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'sustain', pri: 40 } 
  },
  { 
    id: 'swords', 
    sym: icons.swords, 
    name: 'Strike', 
    description: 'Deal 3 damage. Scales with Focus. The most basic attack.',
    cost: 1, 
    type: 'attack', 
    tags: ['attack'],
    effects: { damage: 3, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { addToDamageFromSelf: { nextPlus: true } }, 
    ai: { role: 'tempo', pri: 70 } 
  },
  { 
    id: 'shield', 
    sym: icons.shield, 
    name: 'Guard', 
    description: 'Gain 3 Shield. Protects you from incoming damage.',
    cost: 1, 
    type: 'skill', 
    tags: ['block'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 3, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'defend', pri: 60 } 
  },
  { 
    id: 'echo', 
    sym: icons.echo, 
    name: 'Echo', 
    description: 'Repeat the last non-Echo card you played this turn.',
    cost: 1, 
    type: 'skill', 
    tags: ['echo'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    conditions: { requireLastNonEcho: true }, 
    scaling: {}, 
    ai: { role: 'trick', pri: 65 } 
  },
  { 
    id: 'overload', 
    sym: icons.overload, 
    name: 'Overload', 
    description: 'The next non-Overload card you play this turn will be repeated.',
    cost: 1, 
    type: 'skill', 
    tags: ['overload'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    conditions: {}, 
    scaling: {}, 
    ai: { role: 'trick', pri: 70 } 
  },
  { 
    id: 'fire', 
    sym: icons.fire, 
    name: 'Ignite', 
    description: 'Inflict 2 Burn for 2 turns. Spicy quirk adds +1 burn.',
    cost: 2, 
    type: 'skill', 
    tags: ['burn'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: { amount: 2, turns: 2 }, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { addToBurnFromSelf: { spicyQuirk: 1 } }, 
    ai: { role: 'attrition', pri: 55 } 
  },
  { 
    id: 'snow', 
    sym: icons.snow, 
    name: 'Freeze', 
    description: 'Next turn, opponent loses 1 energy. Disrupts their plans.',
    cost: 2, 
    type: 'skill', 
    tags: ['tax'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 1 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'tempo', pri: 60 } 
  },
  { 
    id: 'bolt', 
    sym: icons.bolt, 
    name: 'Zap', 
    description: 'Deal 2 pierce damage and draw 1 card. Ignores shields.',
    cost: 1, 
    type: 'attack', 
    tags: ['pierce', 'draw'],
    effects: { damage: 2, pierce: true, heal: 0, shield: 0, draw: 1 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { addToDamageFromSelf: { nextPlus: true } }, 
    ai: { role: 'tempo', pri: 80 } 
  },
  { 
    id: 'star', 
    sym: icons.star, 
    name: 'Focus', 
    description: 'Gain +2 to your next attack this turn. Powers up your strikes.',
    cost: 1, 
    type: 'power', 
    tags: ['buff'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 2, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'setup', pri: 50 } 
  },
  { 
    id: 'dagger', 
    sym: icons.dagger, 
    name: 'Pierce', 
    description: 'Deal 3 pierce damage. Scales with Focus. Cuts through shields.',
    cost: 2, 
    type: 'attack', 
    tags: ['pierce'],
    effects: { damage: 3, pierce: true, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { addToDamageFromSelf: { nextPlus: true } }, 
    ai: { role: 'finisher', pri: 85 } 
  },
  { 
    id: 'loop', 
    sym: icons.loop, 
    name: 'Surge', 
    description: 'Gain +1 max energy and +1 energy now. Fuels bigger turns.',
    cost: 2, 
    type: 'power', 
    tags: ['ramp'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 1, energyNowDelta: 1, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'economy', pri: 65 } 
  },
  { 
    id: 'curiosity', 
    sym: 'üêà', 
    name: 'Curiosity', 
    description: 'Draw an extra card at the end of your turn. Cat wisdom.',
    cost: 1, 
    type: 'power', 
    tags: ['curiosity'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false, curiosityPower: true } }, 
    scaling: {}, 
    ai: { role: 'setup', pri: 45 } 
  },
  { 
    id: 'droid', 
    sym: 'ü§ñ', 
    name: 'Droid Protocol', 
    description: 'Next turn: gain random bonus (HP, shield, energy, or focus).',
    cost: 1, 
    type: 'power', 
    tags: ['droid'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false, droidProcArm: true } }, 
    scaling: {}, 
    ai: { role: 'setup', pri: 48 } 
  },
  { 
    id: 'reconsider', 
    sym: icons.reconsider, 
    name: 'Reconsider', 
    description: 'Costs 3 energy. Shuffle hand and draw new cards.',
    cost: 3, 
    type: 'skill', 
    tags: ['utility'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0, reconsider: true }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'utility', pri: 35 } 
  },
  { 
    id: 'purge', 
    sym: icons.purge, 
    name: 'Purge', 
    description: 'Remove all negative status effects from yourself.',
    cost: 2, 
    type: 'skill', 
    tags: ['cleanse'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: true } }, 
    scaling: {}, 
    ai: { role: 'utility', pri: 60 } 
  },
  { 
    id: 'wallop', 
    sym: icons.wallop, 
    name: 'Wallop', 
    description: 'Deal 4 damage. Costs 2 HP to play. High risk, high reward.',
    cost: 2, 
    type: 'attack', 
    tags: ['bruiser', 'life-cost'],
    effects: { damage: 4, pierce: false, heal: 0, shield: 0, draw: 0, lifeCost: 2 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { addToDamageFromSelf: { nextPlus: true } }, 
    ai: { role: 'finisher', pri: 75 } 
  },
  { 
    id: 'presto', 
    sym: icons.presto, 
    name: 'Presto', 
    description: 'Costs 1 HP. Steal a random card from opponent\'s discard pile.',
    cost: 1, 
    type: 'skill', 
    tags: ['trickster', 'lifecost', 'steal'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0, lifeCost: 1, presto: true }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'utility', pri: 45 } 
  },
  { 
    id: 'ferriglobin', 
    sym: icons.ferriglobin, 
    name: 'Ferriglobin', 
    description: 'Transform all your shield into health. Blood magic transmutation.',
    cost: 3, 
    type: 'skill', 
    tags: ['transmute', 'heal'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0, ferriglobin: true }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'sustain', pri: 50 } 
  },
  { 
    id: 'impervious', 
    sym: icons.impervious, 
    name: 'Impervious', 
    description: 'Become immune to all damage next turn. Shields are maintained.',
    cost: 2, 
    type: 'power', 
    tags: ['immunity', 'defense'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false, imperviousNext: true } }, 
    scaling: {}, 
    ai: { role: 'defend', pri: 85 } 
  },
  { 
    id: 'reap', 
    sym: icons.reap, 
    name: 'Reap', 
    description: 'Deal damage equal to half your current health to opponent. Take the same damage yourself.',
    cost: 3, 
    type: 'attack', 
    tags: ['reap', 'life-cost'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0, reap: true }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'finisher', pri: 45 } 
  },
  { 
    id: 'hope', 
    sym: icons.hope, 
    name: 'Hope', 
    description: 'Gain Hope status: heal 1-5 HP each turn for 3 turns. Effect stacks.',
    cost: 2, 
    type: 'power', 
    tags: ['hope', 'heal'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false, hopeStatus: true } }, 
    scaling: {}, 
    ai: { role: 'sustain', pri: 55 } 
  },
  { 
    id: 'infect', 
    sym: icons.infect, 
    name: 'Infect', 
    description: 'Inflict Infect status: 50% chance to deal 1 damage each turn. 25% chance to naturally cure per turn.',
    cost: 2, 
    type: 'skill', 
    tags: ['infect', 'debuff'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0, infectStatus: true }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: {}, 
    ai: { role: 'attrition', pri: 60 } 
  },
  // MAZE EXPLORER CARDS - Separate system using gh√Øs energy
  { 
    id: 'mazehope', 
    sym: icons.hope, 
    name: 'Hope', 
    description: 'Heal +1 HP per Hope card collected. Costs gh√Øs energy.',
    cost: 1, 
    type: 'skill', 
    tags: ['heal', 'maze'],
    effects: { damage: 0, pierce: false, heal: 1, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { hopeHealing: true }, 
    ai: { role: 'sustain', pri: 45 } 
  },
  { 
    id: 'mazesurge', 
    sym: icons.bolt, 
    name: 'Surge', 
    description: 'Unlocks gh√Øs energy 1/1 and increases +1 per Surge card. Required for abilities.',
    cost: 0, 
    type: 'power', 
    tags: ['energy', 'maze'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 1, energyNowDelta: 1, cleanse: false } }, 
    scaling: { ghisBoost: true }, 
    ai: { role: 'economy', pri: 80 } 
  },
  { 
    id: 'mazepierce', 
    sym: icons.dagger, 
    name: 'Pierce', 
    description: 'Hit enemy through shields, ignoring defense. Deals +1 damage per Pierce card.',
    cost: 2, 
    type: 'attack', 
    tags: ['pierce', 'maze'],
    effects: { damage: 1, pierce: true, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { pierceDamage: true }, 
    ai: { role: 'tempo', pri: 75 } 
  },
  { 
    id: 'mazezap', 
    sym: icons.bolt, 
    name: 'Zap', 
    description: 'Chance to stun opponent. Stun chance increases per Zap card collected.',
    cost: 1, 
    type: 'skill', 
    tags: ['stun', 'maze'],
    effects: { damage: 1, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 1 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { zapStun: true }, 
    ai: { role: 'control', pri: 65 } 
  },
  { 
    id: 'mazeignite', 
    sym: icons.fire, 
    name: 'Ignite', 
    description: 'Cause lingering burn damage. Duration +1 per Ignite card collected.',
    cost: 2, 
    type: 'attack', 
    tags: ['burn', 'maze'],
    effects: { damage: 2, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: { amount: 1, turns: 2 } }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    scaling: { igniteBurn: true }, 
    ai: { role: 'attrition', pri: 70 } 
  },
  
  // EXPERIMENTAL: Maze Reconstruction System Cards
  // Environmental Modification cards that permanently alter the maze structure
  { 
    id: 'bridge', 
    sym: icons.bridge, 
    name: 'Bridge', 
    description: 'RECONSTRUCTION: Permanently create a pathway across walls. Use in exploration to modify maze structure.',
    cost: 3, 
    type: 'environmental', 
    tags: ['reconstruction', 'maze', 'permanent'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    environmental: { 
      type: 'bridge',
      description: 'Creates a permanent path through walls',
      range: 3,
      persistent: true,
      resonance: { bonusDamage: 1, description: 'Cards deal +1 damage when played in bridged areas' }
    },
    scaling: {}, 
    ai: { role: 'utility', pri: 30 } 
  },
  { 
    id: 'terraform', 
    sym: icons.terraform, 
    name: 'Terraform', 
    description: 'RECONSTRUCTION: Transform walls into beneficial terrain. Resonance: +1 shield when casting in terraformed areas.',
    cost: 2, 
    type: 'environmental', 
    tags: ['reconstruction', 'maze', 'permanent'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    environmental: { 
      type: 'terraform',
      description: 'Transforms wall tiles into beneficial terrain',
      range: 2,
      persistent: true,
      resonance: { bonusShield: 1, description: '+1 shield when casting abilities in terraformed areas' }
    },
    scaling: {}, 
    ai: { role: 'utility', pri: 35 } 
  },
  { 
    id: 'sanctify', 
    sym: icons.sanctify, 
    name: 'Sanctify', 
    description: 'RECONSTRUCTION: Create a permanent healing sanctuary. Resonance: +1 heal to all healing effects in sanctified areas.',
    cost: 4, 
    type: 'environmental', 
    tags: ['reconstruction', 'maze', 'permanent', 'heal'],
    effects: { damage: 0, pierce: false, heal: 2, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    environmental: { 
      type: 'sanctify',
      description: 'Creates a permanent healing sanctuary',
      range: 1,
      persistent: true,
      healingBonus: 1,
      resonance: { bonusHeal: 1, description: '+1 healing to all healing effects in sanctified areas' }
    },
    scaling: {}, 
    ai: { role: 'sustain', pri: 40 } 
  },
  { 
    id: 'vortexrift', 
    sym: icons.vortex, 
    name: 'Vortex Rift', 
    description: 'RECONSTRUCTION: Create an unstable space that randomly teleports enemies. Resonance: Cards cost -1 energy in rift areas.',
    cost: 5, 
    type: 'environmental', 
    tags: ['reconstruction', 'maze', 'permanent', 'chaos'],
    effects: { damage: 0, pierce: false, heal: 0, shield: 0, draw: 0 }, 
    status: { target: { burn: null, freezeEnergy: 0 }, self: { nextPlus: 0, maxEnergyDelta: 0, energyNowDelta: 0, cleanse: false } }, 
    environmental: { 
      type: 'vortexrift',
      description: 'Creates unstable space with chaotic effects',
      range: 2,
      persistent: true,
      chaosEffect: true,
      resonance: { energyDiscount: 1, description: 'Cards cost -1 energy (minimum 1) in vortex areas' }
    },
    scaling: {}, 
    ai: { role: 'chaos', pri: 25 } 
  }
];